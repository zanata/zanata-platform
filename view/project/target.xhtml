<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:flies="http://flies.fedorahosted.org/ui"
    template="../layout/template.xhtml">

<ui:define name="center_content">
  <rich:jQuery selector="#tab_projects" query="addClass('ui-tabs-selected')" />

  <h1>#{targetHome.instance.project.name} : #{targetHome.instance.name}</h1>

  <s:formattedText id="project-long-description" value="#{targetHome.instance.project.longDescription}"></s:formattedText>
  <h:outputText value="#{targetHome.instance.project.shortDescription}" rendered="#{empty targetHome.instance.project.longDescription}"/>

  <h:form>
    <div class="resource-by-category-panel">
      <div class="header">
        <h2 class="cat-documentation">Documentation</h2>
        <div class="status-bar">
          <flies:translation-status-bar translated="100" fuzzy="0" untranslated="23"/>
        </div>
        <div style="clear: both;"/>
      </div>
      <s:div styleClass="summary" rendered="#{not empty targetHome.instance.description}">
        #{targetHome.instance.description}
      </s:div>
      <div class="toolbar">
        <div class="actions">
          <s:link view="/home.xhtml">Translate</s:link> &nbsp;|&nbsp; 
          <s:link view="/home.xhtml">Download Archive</s:link> &nbsp;|&nbsp; 
          <s:link view="/home.xhtml">More...</s:link>
        </div>
        <div class="expand">
          #{targetHome.instance.documents.size} File(s) 
           <rich:toggleControl for="eContent" >
             <h:graphicImage value="/img/expand.png" />
           </rich:toggleControl>
        </div>
        <div style="clear: both;"/>
      </div>
    <rich:togglePanel id="eContent" switchType="ajax" stateOrder="closed,open" initialState="closed">
     <f:facet name="closed">
      <!-- Invisible -->
     </f:facet>
     <f:facet name="open">
        <rich:dataTable value="#{targetHome.instance.documents}"
          var="document" width="100%" rows="50" reRender="ds">
          <rich:column width="100%" sortBy="#{document.name}">
            <f:facet name="header">
              <h:outputText value="Name"/>
            </f:facet>
            <div class="resource-name">#{document.name}</div>
            <div style="clear:both"/>
            <div class="actions">
              <a href="#">Translate</a> <a href="#">Export</a> <a href="#">Download</a> <a href="#">More...</a> 
            </div>
            
          </rich:column>
          <rich:column>
            <f:facet name="header">
              <h:outputText value="Status"/>
            </f:facet>
            <flies:translation-status-bar translated="20"/>
            (#{document.entries.size})
          </rich:column>
          <f:facet name="footer">
            <rich:datascroller id="ds" rendered="#{targetHome.instance.documents.size > 50}"></rich:datascroller>
          </f:facet>
        </rich:dataTable>
     </f:facet>
      
    </rich:togglePanel>
    </div>
  </h:form>
</ui:define>

</ui:composition>
